{BLOGN_INFORMATION}
<div class="blogn_main">
<br>
<form name="sort" action="admin.php?mode=list" method="post" style="float:left">
<div class="blogn_bar">表示カテゴリ</div>
<select name="blogn_category" onChange="document.sort.submit()" style="width:50%;">
	{BLOGN_CATEGORIES}
</select>
</form>
<script language="JavaScript">
<!--
	function chknum(m) {
		var v;
		v = document.iddel.blogn_ent_id.value;
		if (v == "" || v.match(/[^\d]+/)) {
			alert('半角数字で入力してください。');
			if (m) {
				return false;
			}else{
				return void(0);
			}
		}
		if (m) {
			return true;
		}else{
			if(!delcheck('admin.php?mode=list&amp;action=log_delete&amp;id=' + v)) {
				return void(0);
			}
		}
	}
	function update(id) {
		title = document.loglist.elements['blogn_log_title[' + id + ']'].value;
		title = encodeURIComponent(title);
		category = document.loglist.elements['blogn_log_category[' + id + ']'].value;
		ent_id = document.loglist.elements['blogn_ent_id[' + id + ']'].value;
		window.location.href = './admin.php?mode=list&action=update&blogn_ent_id=' + ent_id + '&blogn_title=' + title + '&blogn_category=' + category;
	}

	function check_delete() {
		var msg;
		var ckd = 0;
		for (cnt = 1; cnt <= {BLOGN_LOG_CNT}; cnt++) {
			if (document.loglist.elements['blogn_check[' + cnt + ']'].checked) {
				ckd = 1;
			}
		}
		if (ckd == 1) {
			msg = confirm('選択した記事を削除して宜しいですか？');
			if (!msg) return false;
		}else{
			alert('削除したい記事を選択してください。');
			return false;
		}
	}
	function check_update() {
		var msg;
		var ckd = 0;
		for (cnt = 1; cnt <= {BLOGN_LOG_CNT}; cnt++) {
			if (document.loglist.elements['blogn_check[' + cnt + ']'].checked) {
				ckd = 1;
			}
		}
		if (ckd == 1) {
			msg = confirm('選択した記事を更新して宜しいですか？');
			if (!msg) return false;
		}else{
			alert('更新したい記事を選択してください。');
			return false;
		}
	}
	function select_check(yesno) {
		for (cnt = 1; cnt <= {BLOGN_LOG_CNT}; cnt++) {
			document.loglist.elements['blogn_check['+cnt+']'].checked = yesno;
		}
	}
-->
</script>
<form action="./admin.php?mode=new&amp;action=edit" method="post" name="iddel" style="float:right">
<div style="border:1px solid #cccccc;margin:0px;padding:5px;text-align:center;background-color:#e9e9e9;">
<strong>記事ID直接操作</strong>
</div>
<div style="border:1px solid #cccccc;margin-bottom:5px;padding:5px;">
記事ID:<input type="text" name="blogn_ent_id" value="" style="width:60px;">
<input type="image" src="./images/edit.gif" onclick="return chknum(1);" name="submit" alt="編集">
<a href="javascript:chknum(0);" title="削除"><img src="./images/trash.gif" border="0"></a>
<br>（半角数字で入力して下さい）
</div>
</form>
<br clear="all">
<form action="./admin.php?mode=list&amp;category={BLOGN_SELECT_CATEGORY}&amp;action=log_select" method="post" name="loglist">
<div class="blogn_bar">記事一覧</div>
<table class="blogn_user_list" summary="記事一覧">
{BLOGN_LIST}
{BLOGN_LIST_LOOP}
<tr>
<td colspan="2" style="border:0px;">
<div style="font-size:14px;background-color:#e9e9e9;padding:5px;"><input type="text" name="blogn_log_title[{BLOGN_CHECK_CNT}]" value="{BLOGN_TITLE}" style="width:90%;padding:2px;"></div>
</td>
<td width="150" style="border:0px;">
<div style="font-size:12px;">{BLOGN_DATE}</div>
</td>
<td width="50" align="center" style="border:0px;">
<div style="font-size:12px;">コメント</div>
</td>
<td width="100" align="center" style="border:0px;">
<div style="font-size:12px;">トラックバック</div>
</td>
<td align="right" valign="top" width="75" style="border:0px;">
<input type="checkbox" name="blogn_check[{BLOGN_CHECK_CNT}]" value="{BLOGN_ID}"><br>
</td>
</tr>
<tr valign="top">
<td style="border-top:0px;border-left:0px;border-right:0px;">
<div style="font-size:12px;padding:0px 0px 5px 5px;">カテゴリー：<select name="blogn_log_category[{BLOGN_CHECK_CNT}]">{BLOGN_CATEGORY}</select></div>
</td>
<td style="border-top:0px;border-left:0px;border-right:0px;text-align:right"><div style="font-size:12px;margin-right:5px;">記事ID：[{BLOGN_ID}]</div></td>
<td width="150" style="border-top:0px;border-left:0px;border-right:0px;">
<div style="font-size:12px;">投稿者：{BLOGN_USERNAME}</div>
</td>
<td width="50" align="center" style="border-top:0px;border-left:0px;border-right:0px;">
<div style="font-size:12px;">{BLOGN_CMT_CNT}</div>
<td width="100" align="center" style="border-top:0px;border-left:0px;border-right:0px;">
<div style="font-size:12px;">{BLOGN_TRK_CNT}</div>
</td>
<td align="right" valign="bottom" width="75" style="border-top:0px;border-left:0px;border-right:0px;">
<input type="hidden" name="blogn_ent_id[{BLOGN_CHECK_CNT}]" value="{BLOGN_ID}">
<a href="./admin.php?mode=new&amp;action=edit&amp;blogn_ent_id={BLOGN_ID}" title="編集"><img src="./images/edit.gif" border="0"  alt="編集"></a>
<a href="Javascript:update({BLOGN_CHECK_CNT});" title="更新"><img src="./images/update.gif" border="0" alt="更新"></a>
<a href="Javascript:delcheck('{BLOGN_DELREF}');" title="削除"><img src="./images/trash.gif" border="0" alt="削除"></a>
</td>
</tr>
{/BLOGN_LIST_LOOP}
</table>
<div style="text-align:right;">[ <a href="javascript:void(0);" onclick="select_check(true);" onkeypress="select_check(true);">全て選択</a> / <a href="javascript:void(0);" onclick="select_check(false);" onkeypress="select_check(false);">全て解除</a> ] 選択した記事の処理 :<input type="image" src="./images/update.gif" alt="一括更新" name="blogn_select_change" onclick="return check_update();" onkeypress="return check_update();"><input type="image" src="./images/trashl.gif" alt="一括削除" name="blogn_select_delete" onclick="return check_delete();" onkeypress="return check_delete();"></div>
{BLOGN_LIST_ELSE}
<tr><td align="center">投稿記事はありません。</td></tr>
</table>
{/BLOGN_LIST}
</form>
{BLOGN_PAGE}
</div>
